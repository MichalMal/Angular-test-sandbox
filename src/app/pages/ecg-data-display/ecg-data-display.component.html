<div class="container py-4">
  <div *ngIf="this.responseData._header">
    <div class="row">
      <div class="col-6">
        <p>version: {{responseData._header.dataFormat}}</p>
        <p>Patient ID: {{responseData._header.patientId}}</p>
        <p>Local ID: {{responseData._header.localRecordingId}}</p>
        <p>Start DateTime: {{responseData._header.recordingDate}}</p>
      </div>
      <div class="col-6">
        <p>Reserved: {{responseData._header.reserved}}</p>
        <p>Number of records: {{responseData._header.nbDataRecords}}</p>
        <p>Duration of a record: {{responseData._header.durationDataRecordsSec}}</p>
        <p>Number of signals: {{responseData._header.nbSignals}}</p>
      </div>

    </div>
  </div>
</div>
<div class="chart-block container-fluid" style="overflow-x: hidden;">
  <app-time-scale [timeScale]="timeScale" (timeScaleChange)="onTimeScaleChange($event)"></app-time-scale>
  <div #chart style="width: 100%; height: 400px;"></div>
</div>

<div class="container py-4">
  <div class="row">
    <div class="col-12 card" *ngFor="let sample of RRIntervalsPerSample; index as sgnlI">
      <div class="card-header">
        Showing RR intervals for Signal: {{responseData._header.signalInfo[sgnlI].label}} - index:
        {{sgnlI}}
      </div>
      <div class="card-body">
        <div class="row" *ngIf="RRIntervalsPerSample && RRIntervalsPerSample[sgnlI][0].time.toNumber() !== 0">
          <div class="col" *ngFor="let interval of sample; index as i">
            <p>
              RR interval {{i+1}} at {{findValueAt(sgnlI ,interval.mvolts)}} <br>
              value: {{interval.time.toNumber()}}
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<div *ngIf="isLoading" class="loading-screen">
  <p>Loading...</ p>
</div>